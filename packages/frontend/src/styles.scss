@import 'prismjs/themes/prism-tomorrow.css';

$page-background-color: white;

:root {
  --offwhite-color: #f5f5f5;
  --codeblock-background-color: #2d2d2d;
  --section-card-color: rgba(231, 231, 231, 0.771);
  --section-card-border-radius: 4mm;
}

// We need this here
.pagedjs_pages {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.pagedjs_page {
  background-color: $page-background-color;
  margin-bottom: 30px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
}

.pagedjs_sheet {
  background-color: $page-background-color;
}

// Scrollbars
body {
  scrollbar-gutter: stable !important;
  margin: 0;
  padding: 0;
}

@page {
  size: A4;
  margin: 0;
}

// Styles for the /print route - remove height constraints for PDF generation
body.print-mode,
body.print-mode app-root {
  height: auto !important;
  overflow: visible !important;
}

img {
  max-height: 240mm;
  object-fit: contain;
}

@media print {
  // Reset body for print
  body {
    background: white !important;
  }

  // Hide the form pane
  .pane-left {
    display: none !important;
  }

  // Make the layout fill the page
  .split-layout,
  .pane-right,
  app-lesson-preview,
  .pdf-preview {
    display: block !important;
    width: 100% !important;
    height: auto !important;
    overflow: visible !important;
    padding: 0 !important;
    margin: 0 !important;
    background: transparent !important;
  }

  // Reset Paged.js container for print
  .pagedjs_pages {
    display: block !important;
  }

  // Each page prints naturally
  .pagedjs_page {
    box-shadow: none !important;
    margin: 0 !important;
    page-break-after: always;
    break-after: page;
  }

  // Last page shouldn't force a break
  .pagedjs_page:last-child {
    page-break-after: auto;
    break-after: auto;
  }
}

// Global code block styles
.code-block {
  background-color: var(--codeblock-background-color);
  padding: 1rem;
  border-radius: 8px;
  font-size: 11pt;
  font-family: 'Jetbrains';
  white-space: pre-wrap;
  word-wrap: break-word;
  overflow-wrap: anywhere;
  margin: 1rem 0;
  user-select: none;

  code {
    font-size: 11pt;
    tab-size: 2;
    font-family: 'Jetbrains';
    white-space: pre-wrap;
    word-break: break-word;
    overflow-wrap: anywhere;
  }
}

// Smaller variant for inline/hint code blocks
.code-block--small {
  padding: 1mm 5mm;
  font-size: 10pt;
  border-radius: 2mm;
  margin: 3mm 0 5mm;
  max-width: 100%;
  width: fit-content;

  code {
    font-size: 10pt;
  }
}

// Setting up fonts
@font-face {
  font-family: 'Poppins';
  src: url('../public/fonts/Poppins-Regular.ttf') format('opentype');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'PoppinsSemiBold';
  src: url('../public/fonts/Poppins-SemiBold.ttf') format('opentype');
  font-weight: 600;
  font-style: normal;
}

@font-face {
  font-family: 'Jetbrains';
  src: url('../public/fonts/JetBrainsMono-Regular.ttf') format('opentype');
  font-weight: normal;
  font-style: normal;
}
