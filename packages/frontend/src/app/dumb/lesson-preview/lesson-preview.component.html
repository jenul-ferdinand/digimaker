@if (data) {
  <div #sourceContent style="display: none">
    <header>
      <h1>{{ data.topic }}</h1>
      <h2>{{ data.project }}</h2>
    </header>

    <main>
      <section class="description">
        <p>{{ data.description }}</p>
      </section>

      <section class="oneliner">
        <p>{{ data.projectExplainer }}</p>
      </section>

      <h3>Get Ready</h3>
      <section class="get-ready">
        @for (step of data.getReadySection; track $index; let i = $index) {
          <p>{{ data.getReadySection[i] }}</p>
        }
      </section>

      <section class="project-image">
        <img [src]="data.projectImage">
      </section>

      <h3>Add Your Code</h3>
      <section class="add-your-code">
        @if (isStepWithImageArray) {
          <!-- StepWithImage[]: step -> image -> step -> image -->
          @for (step of stepsWithImages; track $index) {
            <p>{{ step.step }}</p>
            @if (step.image) {
              <img [src]="step.image" />
            }
          }
        } @else if (stepsWithCodeBlock) {
          <!-- StepsWithCodeBlock: steps list -> code block -->
          @for (step of stepsWithCodeBlock.steps; track $index) {
            <p>{{ step }}</p>
          }
          <pre><code>{{ stepsWithCodeBlock.codeBlock }}</code></pre>
        }
      </section>
      <section class="code-">
        @let codeBlock = data.codeBlock;
        @if (codeBlock) {
          <pre><code>{{ codeBlock }}</code></pre>
        }
      </section>

      @if (data.tryItOutSection) {
        <h3>Try It Out!</h3>
        <section>
          @for (step of data.tryItOutSection; track $index) {
            <p>{{ step }}</p>
          }
        </section>
      }

      <h3>Challenge!</h3>
      <section>
        @for (step of data.challengeSection; track $index; let i = $index) {
          <h4>{{ data.challengeSection[i].name }}</h4>
          <p>{{ data.challengeSection[i].task }}</p>
        }
      </section>

      <h3>{{ data.newProject.name }} - New Project</h3>
      <section>
        <p>{{ data.newProject.task }}</p>
      </section>

      @if (data.testYourself) {
        <h3>Test Yourself</h3>
        <section>
          <a [href]="data.testYourself">Click me, to go to quiz</a>
        </section>
      }

      @if (data.funFact) {
        <h3>Fun Fact!</h3>
        <section>
          <p>{{ data.funFact }}</p>
        </section>
      }
    </main>
  </div>
}

<div #previewContainer class="pdf-preview"></div>
