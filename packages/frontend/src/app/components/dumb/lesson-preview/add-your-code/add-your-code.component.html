<section class="add-your-code">
  @if (isStepWithImage) {
    <!-- StepWithImage[]: step -> image -> step -> image -->
    <!-- This is normally for scratch lessons -->
    @for (step of stepsWithImages; track $index) {
      @let splitText = step.step.split(':');
      @if (splitText.length == 2) {
        <p class="step" style="font-weight: bold">
          {{ splitText[0].toUpperCase() }}:
          <span style="font-weight: normal">{{ splitText[1] }}</span>
        </p>
      } @else {
        <p class="step">{{ step.step }}</p>
      }

      @if (step.imageSlot && step.imageSlot.base64) {
        <img class="step-image" [src]="step.imageSlot.base64" />
        <br />
      }
    }
  } @else if (isMultipleStepsWithCodeBlock) {
    <!-- MultipleStepsWithCodeBlock: steps list (normally one) -> code block -> steps list -> code block -> ... -->
    <!-- Level 2 (more difficult) programming language lessons will have this format -->
    @for (part of multipleStepsWithCodeBlock; track $index) {
      <div class="multiple-steps-with-code-block">
        @for (step of part.steps; track $index) {
          <p class="step">{{ step }}</p>
        }
        <pre class="code-block"><code
          prismHighlight
          [code]="part.codeBlock"
          [language]="programmingLanguage"
        ></code></pre>
      </div>
    }
  } @else if (isStepsWithOneCodeBlock) {
    <!-- StepsWithCodeBlock: steps list -> code block -->
    <!-- Normal programming language lessons will have this format -->

    @for (step of stepsWithCodeBlock?.steps; track $index) {
      <p class="step">{{ step }}</p>
    }
    <pre class="code-block"><code
      prismHighlight
      [code]="stepsWithCodeBlock!.codeBlock"
      [language]="programmingLanguage"
    ></code></pre>
  }
</section>
