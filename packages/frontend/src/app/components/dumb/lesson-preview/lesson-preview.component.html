@if (data) {
  <div #sourceContent style="display: none">
    <header>
      <img src="digimaker-logo.png" width="200px" />
    </header>

    <main>
      <app-title-section
        [topic]="data.topic"
        [project]="data.project"
        [description]="data.description"
      />

      <section class="oneliner">
        <p>{{ data.projectExplainer }}</p>
      </section>

      <!-- Multiple preface images -->
      @if (data.prefaceImageSlots && data.prefaceImageSlots.length > 1) {
        <div class="preface-images">
          @for (slot of data.prefaceImageSlots; track $index) {
            <img class="preface-image" [src]="slot.base64">
          }
        </div>
      }

      <h3 class="get-ready-header">Get Ready</h3>
      <app-get-ready-section
        [getReadySectionData]="data.getReadySection"
        [imageSlot]="data.prefaceImageSlots?.length == 1 ? data.prefaceImageSlots![0] : null"
      />

      <h3>Add Your Code</h3>
      <app-add-your-code [data]="data.addYourCodeSection" [programmingLanguage]="data.programmingLanguage" />

      <!-- @if (data.tryItOutSection) { -->
      <app-try-it-out [tryItOutData]="data.tryItOutSection!" />
      <!-- } -->

      <app-challenge-section [challenges]="data.challengeSection" [programmingLanguage]="data.programmingLanguage" />

      <app-new-project-section [newProject]="data.newProject" />

      @if (data.testYourself) {
        <app-test-yourself [testYourselfData]="data.testYourself" />
      }

      @if (data.funFact) {
        <h3>Fun Fact!</h3>
        <section>
          <p>{{ data.funFact }}</p>
        </section>
      }
    </main>
  </div>
}

<div #previewContainer class="pdf-preview"></div>
